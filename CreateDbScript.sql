/******************************************************************************/
/***        Generated by IBExpert 2016.7.18.1 19.6.2019 Ã£. 14:26:21         ***/
/******************************************************************************/

SET SQL DIALECT 3;

SET NAMES UTF8;

CREATE DATABASE 'E:\TableTennis\Demo DataBase\TABLETENNIS.FDB'
USER 'SYSDBA' PASSWORD 'masterkey'
PAGE_SIZE 16384
DEFAULT CHARACTER SET UTF8 COLLATION UTF8;



/******************************************************************************/
/***                                Domains                                 ***/
/******************************************************************************/

CREATE DOMAIN DM_ADDRESS AS
VARCHAR(200)
COLLATE UNICODE_CI;

CREATE DOMAIN DM_DATE AS
DATE;

CREATE DOMAIN DM_MONEY AS
DECIMAL(18,2);

CREATE DOMAIN DM_PASS AS
VARCHAR(20);

CREATE DOMAIN DM_PIC AS
BLOB SUB_TYPE 0 SEGMENT SIZE 8191;

CREATE DOMAIN DM_PK AS
BIGINT
NOT NULL;

CREATE DOMAIN DM_REF AS
BIGINT;

CREATE DOMAIN DM_RESULT AS
VARCHAR(6)
COLLATE UNICODE_CI;

CREATE DOMAIN DM_SMALL AS
SMALLINT;

CREATE DOMAIN DM_STR10 AS
VARCHAR(10);

CREATE DOMAIN DM_STR20 AS
VARCHAR(20)
COLLATE UNICODE_CI;

CREATE DOMAIN DM_STR50 AS
VARCHAR(50)
NOT NULL
COLLATE UNICODE_CI;

CREATE DOMAIN DM_TEL AS
VARCHAR(15)
COLLATE UNICODE_CI;



/******************************************************************************/
/***                               Generators                               ***/
/******************************************************************************/

CREATE GENERATOR "AGE GROUP_GEN";
SET GENERATOR "AGE GROUP_GEN" TO 0;

CREATE GENERATOR CATEGORIES_GEN;
SET GENERATOR CATEGORIES_GEN TO 0;

CREATE GENERATOR CITIES_GEN;
SET GENERATOR CITIES_GEN TO 257;

CREATE GENERATOR DUELS_GEN;
SET GENERATOR DUELS_GEN TO 46;

CREATE GENERATOR EMPLOYMENT_CONTRACTS_GEN;
SET GENERATOR EMPLOYMENT_CONTRACTS_GEN TO 0;

CREATE GENERATOR GENDERS_GEN;
SET GENERATOR GENDERS_GEN TO 0;

CREATE GENERATOR PLAYERS_GEN;
SET GENERATOR PLAYERS_GEN TO 13;

CREATE GENERATOR TEAMS_GEN;
SET GENERATOR TEAMS_GEN TO 7;

CREATE GENERATOR TORUNAMENTS_GEN;
SET GENERATOR TORUNAMENTS_GEN TO 0;

CREATE GENERATOR USERS_GEN;
SET GENERATOR USERS_GEN TO 3;

CREATE GENERATOR WINNERS_GEN;
SET GENERATOR WINNERS_GEN TO 44;



/******************************************************************************/
/***                               Exceptions                               ***/
/******************************************************************************/

CREATE EXCEPTION CLEAN_TEXT '';



/******************************************************************************/
/***                           Stored procedures                            ***/
/******************************************************************************/



SET TERM ^ ;

CREATE PROCEDURE INSERT_WINNER (
    IS_TEAM INTEGER,
    DUEL_ID BIGINT,
    PLAYER_ID BIGINT)
AS
BEGIN
  EXIT;
END^






SET TERM ; ^



/******************************************************************************/
/***                                 Tables                                 ***/
/******************************************************************************/



CREATE TABLE "AGE GROUPS" (
    ID           DM_PK NOT NULL,
    "AGE GROUP"  DM_STR20
);


CREATE TABLE CATEGORIES (
    ID    DM_PK NOT NULL,
    NAME  DM_STR50
);


CREATE TABLE CITIES (
    ID    DM_PK NOT NULL,
    CITY  DM_STR50
);


CREATE TABLE DUELS (
    ID               DM_PK NOT NULL,
    TORUNAMENT_REF   DM_REF,
    "AGE GROUP_REF"  DM_REF,
    CATEGORY_REF     DM_REF,
    "DATE"           DM_DATE DEFAULT current_date,
    PLAYER1_REF      DM_REF,
    PLAYER2_REF      DM_REF,
    TEAM1_REF        DM_REF,
    TEAM2_REF        DM_REF,
    RESULT           DM_STR10,
    IS_TEAM          DM_SMALL DEFAULT 1 NOT NULL,
    SCORE_FIRST      DM_SMALL,
    SCORE_SECOND     DM_SMALL
);


CREATE TABLE EMPLOYMENT_CONTRACTS (
    ID            DM_PK NOT NULL,
    FIRST_NAME    DM_STR50,
    LAST_NAME     DM_STR50,
    CITY_REF      DM_REF,
    ADDRESS       DM_STR50,
    PHONE_NUMBER  DM_STR20
);


CREATE TABLE GENDERS (
    ID      DM_PK NOT NULL,
    GENDER  DM_STR10 COLLATE UNICODE_CI
);


CREATE TABLE PLAYERS (
    ID               DM_PK NOT NULL,
    FIRSTNAME        DM_STR50,
    LASTNAME         DM_STR50,
    CITY_REF         DM_REF NOT NULL,
    GENDER_REF       DM_REF NOT NULL,
    PHONE            DM_TEL,
    TEAM_REF         DM_REF NOT NULL,
    "AGE GROUP_REF"  DM_REF,
    PICTURE          DM_PIC NOT NULL,
    CATEGORY_REF     DM_REF,
    BIRTHDAY_DATE    DM_DATE NOT NULL,
    AGE              COMPUTED BY (extract(year from current_date)  - extract(year from BIRTHDAY_DATE)),
    DATE_OF_CREATED  DM_DATE DEFAULT current_date,
    ADDRESS          DM_ADDRESS
);


CREATE TABLE TEAMS (
    ID               DM_PK NOT NULL,
    TEAM             DM_STR50,
    PICTURE          DM_PIC,
    DATE_OF_CREATED  DM_DATE DEFAULT current_date,
    ADDRESS          DM_ADDRESS,
    ESTABLISHMENT    DM_DATE,
    FOUNDER          DM_STR20,
    CITY_REF         DM_REF,
    MOBILE_PHONE     DM_STR10
);


CREATE TABLE TORUNAMENTS (
    ID            DM_PK NOT NULL,
    NAME          DM_STR50,
    CITY_REF      DM_REF,
    PRIZE         DM_MONEY,
    "DATE"        DM_DATE NOT NULL,
    DURATION      DM_SMALL,
    PARTICIPANTS  DM_SMALL
);


CREATE TABLE USERS (
    ID                     DM_PK NOT NULL,
    "EMPLOYMENT CONTRACT"  DM_REF,
    USERNAME               DM_STR20,
    "PASSWORD"             DM_PASS
);


CREATE TABLE WINNERS (
    ID               DM_PK NOT NULL,
    DUEL_ID          DM_REF,
    PLAYER_ID        DM_REF,
    TEAM_ID          DM_REF,
    "AGE GROUP_REF"  DM_REF
);




/******************************************************************************/
/***                                 Views                                  ***/
/******************************************************************************/


/* View: BEST_GIRLS */
CREATE VIEW BEST_GIRLS(
    ID,
    FULLNAME,
    SCORE)
AS
-- BEST GIRLS
select first 5
  T.ID, P1.FIRSTNAME || ' ' || P1.LASTNAME FULLNAME, sum(T.SCORE)
from
 (
  select
    ID, SCORE
  from
   (
     -- Sum of score like player1
    select
      P.ID, sum(D.SCORE_FIRST) SCORE
    from
      DUELS D
      join PLAYERS P on P.ID = D.PLAYER1_REF
    where
      D.IS_TEAM = 0 and D.CATEGORY_REF = 2
    group by
      1
    order by
      2 descending )

      union

     -- Sum of score like player2
    select
      P.ID, sum(D.SCORE_SECOND)
    from
      DUELS D
      join PLAYERS P on P.ID = D.PLAYER2_REF
    where
      D.IS_TEAM = 0 and D.CATEGORY_REF = 2
    group by
      1
    order by
      2 descending
    )T
    join PLAYERS P1 on P1.ID = T.ID
group by
  1,2
order by
  3 descending
;



/* View: BEST_MENS */
CREATE VIEW BEST_MENS(
    ID,
    FULLNAME,
    SCORE)
AS
-- BEST MENS
select first 5
  T.ID, P1.FIRSTNAME || ' ' || P1.LASTNAME FULLNAME, sum(T.SCORE)
from
 (
  select
    ID, SCORE
  from
   (
     -- Sum of score like player1
    select
      P.ID, sum(D.SCORE_FIRST) SCORE
    from
      DUELS D
      join PLAYERS P on P.ID = D.PLAYER1_REF
    where
      D.IS_TEAM = 0 and D.CATEGORY_REF = 1
    group by
      1
    order by
      2 descending )

      union

     -- Sum of score like player2
    select
      P.ID, sum(D.SCORE_SECOND)
    from
      DUELS D
      join PLAYERS P on P.ID = D.PLAYER2_REF
    where
      D.IS_TEAM = 0 and D.CATEGORY_REF = 1
    group by
      1
    order by
      2 descending
    )T
    join PLAYERS P1 on P1.ID = T.ID
group by
  1,2
order by
  3 descending
;



/* View: BEST_WINNER_TEAMS */
CREATE VIEW BEST_WINNER_TEAMS(
    TEAM,
    WIN)
AS
select
  T.TEAM, P.WIN
from
(
  select first 5
    T.ID ,count(0) WIN
  from
    WINNERS W
    join TEAMS T on T.ID = W.TEAM_ID
  group by
    T.ID
  order by
    2 descending
) P
  join TEAMS T on T.ID = P.ID
;



/* View: BEST_WINNERS_GIRLS */
CREATE VIEW BEST_WINNERS_GIRLS(
    FULLNAME,
    WIN)
AS
select
  P.FIRSTNAME || ' ' || P.LASTNAME FULLNAME, T.WIN
from
(
  select first 5
    P.ID ,count(0) WIN
  from
    WINNERS W
    join PLAYERS P on P.ID = W.PLAYER_ID
  where
    P.GENDER_REF = 2
  group by
    P.ID
  order by
    2 descending
) T
  join PLAYERS P on P.ID = T.ID
;



/* View: BEST_WINNERS_MEN */
CREATE VIEW BEST_WINNERS_MEN(
    FULLNAME,
    WIN)
AS
select
  P.FIRSTNAME || ' ' || P.LASTNAME FULLNAME, T.WIN
from
(
  select first 5
    P.ID ,count(0) WIN
  from
    WINNERS W
    join PLAYERS P on P.ID = W.PLAYER_ID
  where
    P.GENDER_REF = 1
  group by
    P.ID
  order by
    2 descending
) T
  join PLAYERS P on P.ID = T.ID
;



/* View: LAST_MATCH_PLAYERS */
CREATE VIEW LAST_MATCH_PLAYERS(
    ID,
    FIRSTPLAYER,
    SECONDPLAYER,
    RESULT)
AS
select first 5
  D.ID, P1.FIRSTNAME || ' ' || P1.LASTNAME FirstPlayer, P2.FIRSTNAME || ' ' || P2.LASTNAME SecondPlayer, D.RESULT
from
  DUELS D
  join PLAYERS P1 on P1.ID = D.PLAYER1_REF
  join PLAYERS P2 on P2.ID = D.PLAYER2_REF
where
  D.IS_TEAM = 0 and current_date >= D."DATE"
order by
  D.ID descending
;



/* View: LAST_MATCH_TEAMS */
CREATE VIEW LAST_MATCH_TEAMS(
    ID,
    TEAM,
    TEAM1,
    RESULT)
AS
select first 5
  D.ID, T1.TEAM, T2.TEAM, D.RESULT
from
  DUELS D
  join TEAMS T1 on T1.ID = D.TEAM1_REF
  join TEAMS T2 on T2.ID = D.TEAM2_REF
where
  D.IS_TEAM = 1 and current_date >= D."DATE"
order by
  D.ID descending
;


INSERT INTO "AGE GROUPS" (ID, "AGE GROUP") VALUES (1, 'CHILD');
INSERT INTO "AGE GROUPS" (ID, "AGE GROUP") VALUES (2, 'YOUTH');
INSERT INTO "AGE GROUPS" (ID, "AGE GROUP") VALUES (3, 'ADULTS');

COMMIT WORK;

INSERT INTO CATEGORIES (ID, NAME) VALUES (1, 'Men');
INSERT INTO CATEGORIES (ID, NAME) VALUES (2, 'Women');

COMMIT WORK;

INSERT INTO CITIES (ID, CITY) VALUES (1, 'Sofia');
INSERT INTO CITIES (ID, CITY) VALUES (2, 'Plovdiv');
INSERT INTO CITIES (ID, CITY) VALUES (3, 'Varna');
INSERT INTO CITIES (ID, CITY) VALUES (4, 'Burgas');
INSERT INTO CITIES (ID, CITY) VALUES (5, 'Ruse');
INSERT INTO CITIES (ID, CITY) VALUES (6, 'Stara Zagora');
INSERT INTO CITIES (ID, CITY) VALUES (7, 'Pleven');
INSERT INTO CITIES (ID, CITY) VALUES (8, 'Dobrich');
INSERT INTO CITIES (ID, CITY) VALUES (9, 'Sliven');
INSERT INTO CITIES (ID, CITY) VALUES (10, 'Shumen');
INSERT INTO CITIES (ID, CITY) VALUES (11, 'Pernik');
INSERT INTO CITIES (ID, CITY) VALUES (12, 'Haskovo');
INSERT INTO CITIES (ID, CITY) VALUES (13, 'Yambol');
INSERT INTO CITIES (ID, CITY) VALUES (14, 'Pazardzhik');
INSERT INTO CITIES (ID, CITY) VALUES (15, 'Blagoevgrad');
INSERT INTO CITIES (ID, CITY) VALUES (16, 'Veliko Tarnovo');
INSERT INTO CITIES (ID, CITY) VALUES (17, 'Vratsa');
INSERT INTO CITIES (ID, CITY) VALUES (18, 'Gabrovo');
INSERT INTO CITIES (ID, CITY) VALUES (19, 'Asenovgrad');
INSERT INTO CITIES (ID, CITY) VALUES (20, 'Vidin');
INSERT INTO CITIES (ID, CITY) VALUES (21, 'Kazanlak');
INSERT INTO CITIES (ID, CITY) VALUES (22, 'Kyustendil');
INSERT INTO CITIES (ID, CITY) VALUES (23, 'Kardzhali');
INSERT INTO CITIES (ID, CITY) VALUES (24, 'Montana');
INSERT INTO CITIES (ID, CITY) VALUES (25, 'Dimitrovgrad');
INSERT INTO CITIES (ID, CITY) VALUES (26, 'Targovishte');
INSERT INTO CITIES (ID, CITY) VALUES (27, 'Lovech');
INSERT INTO CITIES (ID, CITY) VALUES (28, 'Silistra');
INSERT INTO CITIES (ID, CITY) VALUES (29, 'Dupnitsa');
INSERT INTO CITIES (ID, CITY) VALUES (30, 'Svishtov');
INSERT INTO CITIES (ID, CITY) VALUES (31, 'Razgrad');
INSERT INTO CITIES (ID, CITY) VALUES (32, 'Gorna Oryahovitsa');
INSERT INTO CITIES (ID, CITY) VALUES (33, 'Smolyan');
INSERT INTO CITIES (ID, CITY) VALUES (34, 'Petrich');
INSERT INTO CITIES (ID, CITY) VALUES (35, 'Sandanski');
INSERT INTO CITIES (ID, CITY) VALUES (36, 'Samokov');
INSERT INTO CITIES (ID, CITY) VALUES (37, 'Sevlievo');
INSERT INTO CITIES (ID, CITY) VALUES (38, 'Lom');
INSERT INTO CITIES (ID, CITY) VALUES (39, 'Karlovo');
INSERT INTO CITIES (ID, CITY) VALUES (40, 'Velingrad');
INSERT INTO CITIES (ID, CITY) VALUES (41, 'Nova Zagora');
INSERT INTO CITIES (ID, CITY) VALUES (42, 'Troyan');
INSERT INTO CITIES (ID, CITY) VALUES (43, 'Aytos');
INSERT INTO CITIES (ID, CITY) VALUES (44, 'Botevgrad');
INSERT INTO CITIES (ID, CITY) VALUES (45, 'Gotse Delchev');
INSERT INTO CITIES (ID, CITY) VALUES (46, 'Peshtera');
INSERT INTO CITIES (ID, CITY) VALUES (47, 'Harmanli');
INSERT INTO CITIES (ID, CITY) VALUES (48, 'Karnobat');
INSERT INTO CITIES (ID, CITY) VALUES (49, 'Svilengrad');
INSERT INTO CITIES (ID, CITY) VALUES (50, 'Panagyurishte');
INSERT INTO CITIES (ID, CITY) VALUES (51, 'Chirpan');
INSERT INTO CITIES (ID, CITY) VALUES (52, 'Popovo');
INSERT INTO CITIES (ID, CITY) VALUES (53, 'Rakovski');
INSERT INTO CITIES (ID, CITY) VALUES (54, 'Radomir');
INSERT INTO CITIES (ID, CITY) VALUES (55, 'Novi Iskar');
INSERT INTO CITIES (ID, CITY) VALUES (56, 'Kozloduy');
INSERT INTO CITIES (ID, CITY) VALUES (57, 'Parvomay');
INSERT INTO CITIES (ID, CITY) VALUES (58, 'Berkovitsa');
INSERT INTO CITIES (ID, CITY) VALUES (59, 'Cherven Bryag');
INSERT INTO CITIES (ID, CITY) VALUES (60, 'Pomorie');
INSERT INTO CITIES (ID, CITY) VALUES (61, 'Ihtiman');
INSERT INTO CITIES (ID, CITY) VALUES (62, 'Radnevo');
INSERT INTO CITIES (ID, CITY) VALUES (63, 'Provadiya');
INSERT INTO CITIES (ID, CITY) VALUES (64, 'Novi Pazar');
INSERT INTO CITIES (ID, CITY) VALUES (65, 'Razlog');
INSERT INTO CITIES (ID, CITY) VALUES (66, 'Byala Slatina');
INSERT INTO CITIES (ID, CITY) VALUES (67, 'Nesebar');
INSERT INTO CITIES (ID, CITY) VALUES (68, 'Balchik');
INSERT INTO CITIES (ID, CITY) VALUES (69, 'Kostinbrod');
INSERT INTO CITIES (ID, CITY) VALUES (70, 'Stamboliyski');
INSERT INTO CITIES (ID, CITY) VALUES (71, 'Kavarna');
INSERT INTO CITIES (ID, CITY) VALUES (72, 'Knezha');
INSERT INTO CITIES (ID, CITY) VALUES (73, 'Pavlikeni');
INSERT INTO CITIES (ID, CITY) VALUES (74, 'Mezdra');
INSERT INTO CITIES (ID, CITY) VALUES (75, 'Etropole');
INSERT INTO CITIES (ID, CITY) VALUES (76, 'Levski');
INSERT INTO CITIES (ID, CITY) VALUES (77, 'Teteven');
INSERT INTO CITIES (ID, CITY) VALUES (78, 'Elhovo');
INSERT INTO CITIES (ID, CITY) VALUES (79, 'Bankya');
INSERT INTO CITIES (ID, CITY) VALUES (80, 'Tryavna');
INSERT INTO CITIES (ID, CITY) VALUES (81, 'Lukovit');
INSERT INTO CITIES (ID, CITY) VALUES (82, 'Tutrakan');
INSERT INTO CITIES (ID, CITY) VALUES (83, 'Sredets');
INSERT INTO CITIES (ID, CITY) VALUES (84, 'Sopot');
INSERT INTO CITIES (ID, CITY) VALUES (85, 'Byala');
INSERT INTO CITIES (ID, CITY) VALUES (86, 'Veliki Preslav');
INSERT INTO CITIES (ID, CITY) VALUES (87, 'Isperih');
INSERT INTO CITIES (ID, CITY) VALUES (88, 'Belene');
INSERT INTO CITIES (ID, CITY) VALUES (89, 'Omurtag');
INSERT INTO CITIES (ID, CITY) VALUES (90, 'Bansko');
INSERT INTO CITIES (ID, CITY) VALUES (91, 'Krichim');
INSERT INTO CITIES (ID, CITY) VALUES (92, 'Galabovo');
INSERT INTO CITIES (ID, CITY) VALUES (93, 'Devnya');
INSERT INTO CITIES (ID, CITY) VALUES (94, 'Septemvri');
INSERT INTO CITIES (ID, CITY) VALUES (95, 'Rakitovo');
INSERT INTO CITIES (ID, CITY) VALUES (96, 'Lyaskovets');
INSERT INTO CITIES (ID, CITY) VALUES (97, 'Svoge');
INSERT INTO CITIES (ID, CITY) VALUES (98, 'Aksakovo');
INSERT INTO CITIES (ID, CITY) VALUES (99, 'Kubrat');
INSERT INTO CITIES (ID, CITY) VALUES (100, 'Dryanovo');
INSERT INTO CITIES (ID, CITY) VALUES (101, 'Beloslav');
INSERT INTO CITIES (ID, CITY) VALUES (102, 'Pirdop');
INSERT INTO CITIES (ID, CITY) VALUES (103, 'Lyubimets');
INSERT INTO CITIES (ID, CITY) VALUES (104, 'Momchilgrad');
INSERT INTO CITIES (ID, CITY) VALUES (105, 'Slivnitsa');
INSERT INTO CITIES (ID, CITY) VALUES (106, 'Hisarya');
INSERT INTO CITIES (ID, CITY) VALUES (107, 'Zlatograd');
INSERT INTO CITIES (ID, CITY) VALUES (108, 'Kostenets');
INSERT INTO CITIES (ID, CITY) VALUES (109, 'Devin');
INSERT INTO CITIES (ID, CITY) VALUES (110, 'General Toshevo');
INSERT INTO CITIES (ID, CITY) VALUES (111, 'Simeonovgrad');
INSERT INTO CITIES (ID, CITY) VALUES (112, 'Simitli');
INSERT INTO CITIES (ID, CITY) VALUES (113, 'Elin Pelin');
INSERT INTO CITIES (ID, CITY) VALUES (114, 'Dolni Chiflik');
INSERT INTO CITIES (ID, CITY) VALUES (115, 'Tervel');
INSERT INTO CITIES (ID, CITY) VALUES (116, 'Dulovo');
INSERT INTO CITIES (ID, CITY) VALUES (117, 'Varshets');
INSERT INTO CITIES (ID, CITY) VALUES (118, 'Kotel');
INSERT INTO CITIES (ID, CITY) VALUES (119, 'Madan');
INSERT INTO CITIES (ID, CITY) VALUES (120, 'Straldzha');
INSERT INTO CITIES (ID, CITY) VALUES (121, 'Saedinenie');
INSERT INTO CITIES (ID, CITY) VALUES (122, 'Bobov Dol');
INSERT INTO CITIES (ID, CITY) VALUES (123, 'Tsarevo');
INSERT INTO CITIES (ID, CITY) VALUES (124, 'Kuklen');
INSERT INTO CITIES (ID, CITY) VALUES (125, 'Tvarditsa');
INSERT INTO CITIES (ID, CITY) VALUES (126, 'Yakoruda');
INSERT INTO CITIES (ID, CITY) VALUES (127, 'Elena');
INSERT INTO CITIES (ID, CITY) VALUES (128, 'Topolovgrad');
INSERT INTO CITIES (ID, CITY) VALUES (129, 'Bozhurishte');
INSERT INTO CITIES (ID, CITY) VALUES (130, 'Chepelare');
INSERT INTO CITIES (ID, CITY) VALUES (131, 'Oryahovo');
INSERT INTO CITIES (ID, CITY) VALUES (132, 'Sozopol');
INSERT INTO CITIES (ID, CITY) VALUES (133, 'Belogradchik');
INSERT INTO CITIES (ID, CITY) VALUES (134, 'Perushtitsa');
INSERT INTO CITIES (ID, CITY) VALUES (135, 'Zlatitsa');
INSERT INTO CITIES (ID, CITY) VALUES (136, 'Strazhitsa');
INSERT INTO CITIES (ID, CITY) VALUES (137, 'Krumovgrad');
INSERT INTO CITIES (ID, CITY) VALUES (138, 'Kameno');
INSERT INTO CITIES (ID, CITY) VALUES (139, 'Dalgopol');
INSERT INTO CITIES (ID, CITY) VALUES (140, 'Vetovo');
INSERT INTO CITIES (ID, CITY) VALUES (141, 'Suvorovo');
INSERT INTO CITIES (ID, CITY) VALUES (142, 'Dolni Dabnik');
INSERT INTO CITIES (ID, CITY) VALUES (143, 'Dolna Banya');
INSERT INTO CITIES (ID, CITY) VALUES (144, 'Pravets');
INSERT INTO CITIES (ID, CITY) VALUES (145, 'Nedelino');
INSERT INTO CITIES (ID, CITY) VALUES (146, 'Polski Trambesh');
INSERT INTO CITIES (ID, CITY) VALUES (147, 'Trastenik');
INSERT INTO CITIES (ID, CITY) VALUES (148, 'Bratsigovo');
INSERT INTO CITIES (ID, CITY) VALUES (149, 'Koynare');
INSERT INTO CITIES (ID, CITY) VALUES (150, 'Godech');
INSERT INTO CITIES (ID, CITY) VALUES (151, 'Slavyanovo');
INSERT INTO CITIES (ID, CITY) VALUES (152, 'Dve Mogili');
INSERT INTO CITIES (ID, CITY) VALUES (153, 'Kostandovo');
INSERT INTO CITIES (ID, CITY) VALUES (154, 'Debelets');
INSERT INTO CITIES (ID, CITY) VALUES (155, 'Strelcha');
INSERT INTO CITIES (ID, CITY) VALUES (156, 'Sapareva Banya');
INSERT INTO CITIES (ID, CITY) VALUES (157, 'Ignatievo');
INSERT INTO CITIES (ID, CITY) VALUES (158, 'Smyadovo');
INSERT INTO CITIES (ID, CITY) VALUES (159, 'Breznik');
INSERT INTO CITIES (ID, CITY) VALUES (160, 'Sveti Vlas');
INSERT INTO CITIES (ID, CITY) VALUES (161, 'Nikopol');
INSERT INTO CITIES (ID, CITY) VALUES (162, 'Shivachevo');
INSERT INTO CITIES (ID, CITY) VALUES (163, 'Belovo');
INSERT INTO CITIES (ID, CITY) VALUES (164, 'Tsar Kaloyan');
INSERT INTO CITIES (ID, CITY) VALUES (165, 'Ivaylovgrad');
INSERT INTO CITIES (ID, CITY) VALUES (166, 'Valchedram');
INSERT INTO CITIES (ID, CITY) VALUES (167, 'Marten');
INSERT INTO CITIES (ID, CITY) VALUES (168, 'Glodzhevo');
INSERT INTO CITIES (ID, CITY) VALUES (169, 'Sarnitsa');
INSERT INTO CITIES (ID, CITY) VALUES (170, 'Letnitsa');
INSERT INTO CITIES (ID, CITY) VALUES (171, 'Varbitsa');
INSERT INTO CITIES (ID, CITY) VALUES (172, 'Iskar');
INSERT INTO CITIES (ID, CITY) VALUES (173, 'Ardino');
INSERT INTO CITIES (ID, CITY) VALUES (174, 'Shabla');
INSERT INTO CITIES (ID, CITY) VALUES (175, 'Rudozem');
INSERT INTO CITIES (ID, CITY) VALUES (176, 'Vetren');
INSERT INTO CITIES (ID, CITY) VALUES (177, 'Kresna');
INSERT INTO CITIES (ID, CITY) VALUES (178, 'Banya');
INSERT INTO CITIES (ID, CITY) VALUES (179, 'Batak');
INSERT INTO CITIES (ID, CITY) VALUES (180, 'Maglizh');
INSERT INTO CITIES (ID, CITY) VALUES (181, 'Valchi Dol');
INSERT INTO CITIES (ID, CITY) VALUES (182, 'Gulyantsi');
INSERT INTO CITIES (ID, CITY) VALUES (183, 'Dragoman');
INSERT INTO CITIES (ID, CITY) VALUES (184, 'Zavet');
INSERT INTO CITIES (ID, CITY) VALUES (185, 'Kran');
INSERT INTO CITIES (ID, CITY) VALUES (186, 'Miziya');
INSERT INTO CITIES (ID, CITY) VALUES (187, 'Primorsko');
INSERT INTO CITIES (ID, CITY) VALUES (188, 'Sungurlare');
INSERT INTO CITIES (ID, CITY) VALUES (189, 'Dolna Mitropoliya');
INSERT INTO CITIES (ID, CITY) VALUES (190, 'Krivodol');
INSERT INTO CITIES (ID, CITY) VALUES (191, 'Kula');
INSERT INTO CITIES (ID, CITY) VALUES (192, 'Kalofer');
INSERT INTO CITIES (ID, CITY) VALUES (193, 'Slivo Pole');
INSERT INTO CITIES (ID, CITY) VALUES (194, 'Kaspichan');
INSERT INTO CITIES (ID, CITY) VALUES (195, 'Apriltsi');
INSERT INTO CITIES (ID, CITY) VALUES (196, 'Belitsa');
INSERT INTO CITIES (ID, CITY) VALUES (197, 'Roman');
INSERT INTO CITIES (ID, CITY) VALUES (198, 'Dzhebel');
INSERT INTO CITIES (ID, CITY) VALUES (199, 'Dolna Oryahovitsa');
INSERT INTO CITIES (ID, CITY) VALUES (200, 'Buhovo');
INSERT INTO CITIES (ID, CITY) VALUES (201, 'Gurkovo');
INSERT INTO CITIES (ID, CITY) VALUES (202, 'Pavel Banya');
INSERT INTO CITIES (ID, CITY) VALUES (203, 'Nikolaevo');
INSERT INTO CITIES (ID, CITY) VALUES (204, 'Yablanitsa');
INSERT INTO CITIES (ID, CITY) VALUES (205, 'Kableshkovo');
INSERT INTO CITIES (ID, CITY) VALUES (206, 'Opaka');
INSERT INTO CITIES (ID, CITY) VALUES (207, 'Rila');
INSERT INTO CITIES (ID, CITY) VALUES (208, 'Ugarchin');
INSERT INTO CITIES (ID, CITY) VALUES (209, 'Dunavtsi');
INSERT INTO CITIES (ID, CITY) VALUES (210, 'Dobrinishte');
INSERT INTO CITIES (ID, CITY) VALUES (211, 'Hadzhidimovo');
INSERT INTO CITIES (ID, CITY) VALUES (212, 'Bregovo');
INSERT INTO CITIES (ID, CITY) VALUES (213, 'Byala Cherkva');
INSERT INTO CITIES (ID, CITY) VALUES (214, 'Zlataritsa');
INSERT INTO CITIES (ID, CITY) VALUES (215, 'Kocherinovo');
INSERT INTO CITIES (ID, CITY) VALUES (216, 'Dospat');
INSERT INTO CITIES (ID, CITY) VALUES (217, 'Tran');
INSERT INTO CITIES (ID, CITY) VALUES (218, 'Sadovo');
INSERT INTO CITIES (ID, CITY) VALUES (219, 'Laki');
INSERT INTO CITIES (ID, CITY) VALUES (220, 'Koprivshtitsa');
INSERT INTO CITIES (ID, CITY) VALUES (221, 'Malko Tarnovo');
INSERT INTO CITIES (ID, CITY) VALUES (222, 'Loznitsa');
INSERT INTO CITIES (ID, CITY) VALUES (223, 'Obzor');
INSERT INTO CITIES (ID, CITY) VALUES (224, 'Kilifarevo');
INSERT INTO CITIES (ID, CITY) VALUES (225, 'Borovo');
INSERT INTO CITIES (ID, CITY) VALUES (226, 'Batanovtsi');
INSERT INTO CITIES (ID, CITY) VALUES (227, 'Chernomorets');
INSERT INTO CITIES (ID, CITY) VALUES (228, 'Aheloy');
INSERT INTO CITIES (ID, CITY) VALUES (229, 'Byala');
INSERT INTO CITIES (ID, CITY) VALUES (230, 'Pordim');
INSERT INTO CITIES (ID, CITY) VALUES (231, 'Suhindol');
INSERT INTO CITIES (ID, CITY) VALUES (232, 'Merichleri');
INSERT INTO CITIES (ID, CITY) VALUES (233, 'Glavinitsa');
INSERT INTO CITIES (ID, CITY) VALUES (234, 'Chiprovtsi');
INSERT INTO CITIES (ID, CITY) VALUES (235, 'Kermen');
INSERT INTO CITIES (ID, CITY) VALUES (236, 'Brezovo');
INSERT INTO CITIES (ID, CITY) VALUES (237, 'Plachkovtsi');
INSERT INTO CITIES (ID, CITY) VALUES (238, 'Zemen');
INSERT INTO CITIES (ID, CITY) VALUES (239, 'Balgarovo');
INSERT INTO CITIES (ID, CITY) VALUES (240, 'Alfatar');
INSERT INTO CITIES (ID, CITY) VALUES (241, 'Boychinovtsi');
INSERT INTO CITIES (ID, CITY) VALUES (242, 'Gramada');
INSERT INTO CITIES (ID, CITY) VALUES (243, 'Senovo');
INSERT INTO CITIES (ID, CITY) VALUES (244, 'Momin Prohod');
INSERT INTO CITIES (ID, CITY) VALUES (245, 'Kaolinovo');
INSERT INTO CITIES (ID, CITY) VALUES (246, 'Shipka');
INSERT INTO CITIES (ID, CITY) VALUES (247, 'Antonovo');
INSERT INTO CITIES (ID, CITY) VALUES (248, 'Ahtopol');
INSERT INTO CITIES (ID, CITY) VALUES (249, 'Boboshevo');
INSERT INTO CITIES (ID, CITY) VALUES (250, 'Bolyarovo');
INSERT INTO CITIES (ID, CITY) VALUES (251, 'Brusartsi');
INSERT INTO CITIES (ID, CITY) VALUES (252, 'Klisura');
INSERT INTO CITIES (ID, CITY) VALUES (253, 'Dimovo');
INSERT INTO CITIES (ID, CITY) VALUES (254, 'Kiten');
INSERT INTO CITIES (ID, CITY) VALUES (255, 'Pliska');
INSERT INTO CITIES (ID, CITY) VALUES (256, 'Madzharovo');
INSERT INTO CITIES (ID, CITY) VALUES (257, 'Melnik');

COMMIT WORK;

INSERT INTO GENDERS (ID, GENDER) VALUES (1, 'MEN');
INSERT INTO GENDERS (ID, GENDER) VALUES (2, 'WOMEN');

COMMIT WORK;

INSERT INTO TEAMS (ID, TEAM, DATE_OF_CREATED, ADDRESS, ESTABLISHMENT, FOUNDER, CITY_REF, MOBILE_PHONE) VALUES (1, 'Plovdiv Team', '2019-02-10', 'Plovdiv 4000', '2015-02-15', NULL, 2, '+359752125');
INSERT INTO TEAMS (ID, TEAM, DATE_OF_CREATED, ADDRESS, ESTABLISHMENT, FOUNDER, CITY_REF, MOBILE_PHONE) VALUES (2, 'Girls Team Plovdiv', '2019-02-10', 'Plovdiv 4000', '2017-02-03', NULL, 2, '+359785421');
INSERT INTO TEAMS (ID, TEAM, DATE_OF_CREATED, ADDRESS, ESTABLISHMENT, FOUNDER, CITY_REF, MOBILE_PHONE) VALUES (3, 'Girls Team Varna', '2019-02-10', 'city Varna', '2017-02-08', NULL, 3, '+359752156');
INSERT INTO TEAMS (ID, TEAM, DATE_OF_CREATED, ADDRESS, ESTABLISHMENT, FOUNDER, CITY_REF, MOBILE_PHONE) VALUES (4, 'Best Team Sofia', '2019-02-10', 'city Sofia', '2014-04-10', NULL, 1, '+359785215');
INSERT INTO TEAMS (ID, TEAM, DATE_OF_CREATED, ADDRESS, ESTABLISHMENT, FOUNDER, CITY_REF, MOBILE_PHONE) VALUES (5, 'No Image Team', '2019-02-10', 'city Stara Zagora', '1993-03-03', NULL, 6, '+359785240');
INSERT INTO TEAMS (ID, TEAM, DATE_OF_CREATED, ADDRESS, ESTABLISHMENT, FOUNDER, CITY_REF, MOBILE_PHONE) VALUES (6, 'Ruse Team', '2019-02-10', 'city Ruse', '2008-01-07', NULL, 5, '+359782140');
INSERT INTO TEAMS (ID, TEAM, DATE_OF_CREATED, ADDRESS, ESTABLISHMENT, FOUNDER, CITY_REF, MOBILE_PHONE) VALUES (7, 'Pleven Team - Empty', '2019-02-10', 'city Pleven', '2001-05-03', NULL, 7, '+359786524');

COMMIT WORK;

INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (1, 'Ivan', 'Ivanov', 2, 1, '+3597862299', 1, NULL, 1, '2006-02-03', '2019-02-10', 'Plovdiv 4000');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (2, 'Petar', 'Petrov', 2, 1, '+3598721531', 1, NULL, 1, '2008-07-03', '2019-02-10', 'Plovdiv 4000');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (3, 'Petia', 'Petkova', 3, 2, '+3597862522', 3, NULL, 2, '2007-07-03', '2019-02-10', 'city Varna');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (4, 'Iva', 'Ivanova', 3, 2, '+3599852452', 3, NULL, 2, '1999-05-05', '2019-02-10', 'city Varna');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (5, 'Vania', 'Ivanova', 2, 2, '+3597852112', 2, NULL, 2, '1996-04-05', '2019-02-10', 'Plovdiv 4000');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (6, 'Stoianka', 'Stoianova', 2, 2, '+3597892181', 2, NULL, 2, '2004-03-03', '2019-02-10', 'Plovdiv 4000');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (7, 'Teodor', 'Kostadinov', 1, 1, '+3597852478', 4, NULL, 1, '1998-05-03', '2019-02-10', 'Sofia');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (8, 'Hristina', 'Hristova', 1, 2, '+3597852142', 4, NULL, 2, '2000-07-03', '2019-02-10', 'city Sofia');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (9, 'Zagor', 'Zagorov', 6, 1, '+3597825241', 5, NULL, 1, '2000-04-03', '2019-02-10', 'city Stara Zagora');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (10, 'Stoian', 'Dimitrov', 6, 1, '+3597824251', 5, NULL, 1, '2000-05-05', '2019-02-10', 'city Stara Zagora');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (11, 'Gergana', 'Ivanova', 5, 2, '+3597865242', 6, NULL, 2, '2001-05-05', '2019-02-10', 'city Ruse');
INSERT INTO PLAYERS (ID, FIRSTNAME, LASTNAME, CITY_REF, GENDER_REF, PHONE, TEAM_REF, "AGE GROUP_REF", CATEGORY_REF, BIRTHDAY_DATE, DATE_OF_CREATED, ADDRESS) VALUES (12, 'Gabriela', 'Dimitrova', 5, 2, '+3597820873', 6, NULL, 2, '2002-04-03', '2019-02-10', 'city Ruse');

COMMIT WORK;

INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (1, NULL, NULL, 1, '2019-02-10', 1, 2, NULL, NULL, '21 : 13', 0, 21, 13);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (2, NULL, NULL, 1, '2019-02-10', 2, 1, NULL, NULL, '21 : 7', 0, 21, 7);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (3, NULL, NULL, 1, '2019-02-10', 1, 7, NULL, NULL, '16 : 21', 0, 16, 21);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (4, NULL, NULL, 1, '2019-02-10', 7, 2, NULL, NULL, '11 : 6', 0, 11, 6);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (5, NULL, NULL, 1, '2019-02-10', 7, 10, NULL, NULL, '21 : 7', 0, 21, 7);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (6, NULL, NULL, 1, '2019-02-10', 7, 9, NULL, NULL, '21 : 17', 0, 21, 17);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (7, NULL, NULL, 1, '2019-02-10', 10, 9, NULL, NULL, '11 : 8', 0, 11, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (8, NULL, NULL, 1, '2019-02-10', 1, 2, NULL, NULL, '11 : 8', 0, 11, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (9, NULL, NULL, 1, '2019-02-10', 1, 10, NULL, NULL, '21 : 16', 0, 21, 16);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (10, NULL, NULL, 1, '2019-02-10', 2, 9, NULL, NULL, '11 : 7', 0, 11, 7);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (11, NULL, NULL, 1, '2019-02-10', 9, 2, NULL, NULL, '11 : 8', 0, 11, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (12, NULL, NULL, 2, '2019-02-10', 5, 3, NULL, NULL, '11 : 6', 0, 11, 6);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (13, NULL, NULL, 2, '2019-02-10', 5, 11, NULL, NULL, '21 : 14', 0, 21, 14);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (14, NULL, NULL, 2, '2019-02-10', 5, 12, NULL, NULL, '21 : 8', 0, 21, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (15, NULL, NULL, 2, '2019-02-10', 8, 11, NULL, NULL, '8 : 11', 0, 8, 11);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (16, NULL, NULL, 2, '2019-02-10', 6, 11, NULL, NULL, '11 : 8', 0, 11, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (17, NULL, NULL, 2, '2019-02-10', 6, 4, NULL, NULL, '7 : 11', 0, 7, 11);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (18, NULL, NULL, 2, '2019-02-10', 8, 3, NULL, NULL, '21 : 15', 0, 21, 15);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (19, NULL, NULL, 2, '2019-02-10', 8, 3, NULL, NULL, '0 : 0', 0, 0, 0);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (20, NULL, NULL, 2, '2019-02-10', 6, 12, NULL, NULL, '9 : 21', 0, 9, 21);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (21, NULL, NULL, 2, '2019-02-10', 3, 6, NULL, NULL, '11 : 8', 0, 11, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (22, NULL, NULL, 2, '2019-02-10', 6, 4, NULL, NULL, '21 : 16', 0, 21, 16);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (23, NULL, NULL, 2, '2019-02-10', 6, 8, NULL, NULL, '11 : 7', 0, 11, 7);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (24, NULL, NULL, 2, '2019-02-10', 5, 4, NULL, NULL, '13 : 21', 0, 13, 21);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (25, NULL, NULL, 2, '2019-02-10', 11, 5, NULL, NULL, '7 : 11', 0, 7, 11);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (26, NULL, NULL, 2, '2019-02-10', 5, 11, NULL, NULL, '11 : 10', 0, 11, 10);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (27, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 1, 5, '21 : 15', 1, 21, 15);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (28, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 1, 4, '11 : 8', 1, 11, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (29, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 1, 6, '21 : 14', 1, 21, 14);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (30, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 1, 4, '11 : 7', 1, 11, 7);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (31, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 2, 3, '21 : 16', 1, 21, 16);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (32, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 2, 4, '21 : 11', 1, 21, 11);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (33, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 4, 6, '11 : 6', 1, 11, 6);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (34, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 4, 6, '8 : 11', 1, 8, 11);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (35, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 5, 6, '21 : 14', 1, 21, 14);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (36, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 4, 5, '11 : 10', 1, 11, 10);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (37, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 2, 3, '11 : 7', 1, 11, 7);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (38, NULL, NULL, NULL, '2019-02-10', NULL, NULL, 5, 6, '11 : 8', 1, 11, 8);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (39, NULL, NULL, 1, '2019-02-20', 7, 2, NULL, NULL, '11 : 7', 0, 11, 7);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (40, NULL, NULL, 1, '2019-03-25', 1, 2, NULL, NULL, '21 : 9', 0, 21, 9);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (43, NULL, NULL, 1, '2019-04-26', 1, 2, NULL, NULL, '7 : 1', 0, 7, 1);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (44, NULL, NULL, NULL, '2019-04-26', NULL, NULL, 1, 2, '21 : 3', 1, 21, 3);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (45, NULL, NULL, 1, '2019-06-19', 1, 2, NULL, NULL, '3 : 2', 0, 3, 2);
INSERT INTO DUELS (ID, TORUNAMENT_REF, "AGE GROUP_REF", CATEGORY_REF, "DATE", PLAYER1_REF, PLAYER2_REF, TEAM1_REF, TEAM2_REF, RESULT, IS_TEAM, SCORE_FIRST, SCORE_SECOND) VALUES (46, NULL, NULL, 1, '2019-06-19', 1, 7, NULL, NULL, '7 : 18', 0, 7, 18);

COMMIT WORK;

INSERT INTO EMPLOYMENT_CONTRACTS (ID, FIRST_NAME, LAST_NAME, CITY_REF, ADDRESS, PHONE_NUMBER) VALUES (1, 'ADMIN', 'ADMIN', 2, 'address 17', '+359753632566');

COMMIT WORK;

INSERT INTO USERS (ID, "EMPLOYMENT CONTRACT", USERNAME, "PASSWORD") VALUES (1, 1, 'Admin', '123456789');
INSERT INTO USERS (ID, "EMPLOYMENT CONTRACT", USERNAME, "PASSWORD") VALUES (2, 1, 'User1', '123456');
INSERT INTO USERS (ID, "EMPLOYMENT CONTRACT", USERNAME, "PASSWORD") VALUES (3, 1, 'User2', '1234');

COMMIT WORK;

INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (1, 1, 1, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (2, 2, 2, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (3, 3, 7, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (4, 4, 7, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (5, 5, 7, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (6, 6, 7, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (7, 7, 10, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (8, 8, 1, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (9, 9, 1, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (10, 10, 2, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (11, 11, 9, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (12, 12, 5, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (13, 13, 5, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (14, 14, 5, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (15, 15, 11, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (16, 16, 6, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (17, 17, 4, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (18, 18, 8, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (19, 19, 3, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (20, 20, 12, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (21, 21, 3, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (22, 22, 6, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (23, 23, 6, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (24, 24, 4, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (25, 25, 5, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (26, 26, 5, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (27, 27, NULL, 1, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (28, 28, NULL, 1, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (29, 29, NULL, 1, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (30, 30, NULL, 1, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (31, 31, NULL, 2, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (32, 32, NULL, 2, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (33, 33, NULL, 4, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (34, 34, NULL, 6, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (35, 35, NULL, 5, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (36, 36, NULL, 4, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (37, 37, NULL, 2, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (38, 38, NULL, 5, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (39, 39, 7, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (40, 40, 1, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (41, 43, 1, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (42, 44, NULL, 1, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (43, 45, 1, NULL, NULL);
INSERT INTO WINNERS (ID, DUEL_ID, PLAYER_ID, TEAM_ID, "AGE GROUP_REF") VALUES (44, 46, 7, NULL, NULL);

COMMIT WORK;



/******************************************************************************/
/***                              Primary keys                              ***/
/******************************************************************************/

ALTER TABLE "AGE GROUPS" ADD CONSTRAINT "PK_AGE GROUPS" PRIMARY KEY (ID);
ALTER TABLE CATEGORIES ADD CONSTRAINT PK_CATEGORIES PRIMARY KEY (ID);
ALTER TABLE CITIES ADD CONSTRAINT PK_CITIES PRIMARY KEY (ID);
ALTER TABLE DUELS ADD CONSTRAINT PK_DUELS PRIMARY KEY (ID);
ALTER TABLE EMPLOYMENT_CONTRACTS ADD CONSTRAINT PK_EMPLOYMENT_CONTRACTS PRIMARY KEY (ID);
ALTER TABLE GENDERS ADD CONSTRAINT PK_GENDERS PRIMARY KEY (ID);
ALTER TABLE PLAYERS ADD CONSTRAINT PK_PLAYERS PRIMARY KEY (ID);
ALTER TABLE TEAMS ADD CONSTRAINT PK_TEAMS PRIMARY KEY (ID);
ALTER TABLE TORUNAMENTS ADD CONSTRAINT PK_TORUNAMENTS PRIMARY KEY (ID);
ALTER TABLE USERS ADD CONSTRAINT PK_USERS PRIMARY KEY (ID);
ALTER TABLE WINNERS ADD CONSTRAINT PK_WINNERS PRIMARY KEY (ID);


/******************************************************************************/
/***                              Foreign keys                              ***/
/******************************************************************************/

ALTER TABLE DUELS ADD CONSTRAINT FK_DUELS_1 FOREIGN KEY (TEAM1_REF) REFERENCES TEAMS (ID) ON UPDATE CASCADE;
ALTER TABLE DUELS ADD CONSTRAINT FK_DUELS_2 FOREIGN KEY (TEAM2_REF) REFERENCES TEAMS (ID) ON UPDATE CASCADE;
ALTER TABLE DUELS ADD CONSTRAINT "FK_DUELS_AGE GROUPS" FOREIGN KEY ("AGE GROUP_REF") REFERENCES "AGE GROUPS" (ID);
ALTER TABLE DUELS ADD CONSTRAINT FK_DUELS_CATEGORIES FOREIGN KEY (CATEGORY_REF) REFERENCES CATEGORIES (ID) ON UPDATE CASCADE;
ALTER TABLE DUELS ADD CONSTRAINT FK_DUELS_PLAYERS FOREIGN KEY (PLAYER1_REF) REFERENCES PLAYERS (ID);
ALTER TABLE DUELS ADD CONSTRAINT FK_DUELS_PLAYERS2 FOREIGN KEY (PLAYER2_REF) REFERENCES PLAYERS (ID);
ALTER TABLE DUELS ADD CONSTRAINT FK_DUELS_TOURNAMENTS FOREIGN KEY (TORUNAMENT_REF) REFERENCES TORUNAMENTS (ID);
ALTER TABLE EMPLOYMENT_CONTRACTS ADD CONSTRAINT FK_EMPLOYMENT_CONTRACTS_CITY FOREIGN KEY (CITY_REF) REFERENCES CITIES (ID) ON UPDATE CASCADE;
ALTER TABLE PLAYERS ADD CONSTRAINT "FK_PLAYERS_AGE GROUPS" FOREIGN KEY ("AGE GROUP_REF") REFERENCES "AGE GROUPS" (ID);
ALTER TABLE PLAYERS ADD CONSTRAINT FK_PLAYERS_CATEGORY FOREIGN KEY (CATEGORY_REF) REFERENCES CATEGORIES (ID) ON UPDATE CASCADE;
ALTER TABLE PLAYERS ADD CONSTRAINT FK_PLAYERS_CITIES FOREIGN KEY (CITY_REF) REFERENCES CITIES (ID);
ALTER TABLE PLAYERS ADD CONSTRAINT FK_PLAYERS_GENDERS FOREIGN KEY (GENDER_REF) REFERENCES GENDERS (ID);
ALTER TABLE PLAYERS ADD CONSTRAINT FK_PLAYERS_TEAMS FOREIGN KEY (TEAM_REF) REFERENCES TEAMS (ID) ON DELETE CASCADE;
ALTER TABLE TEAMS ADD CONSTRAINT FK_TEAMS_CITY FOREIGN KEY (CITY_REF) REFERENCES CITIES (ID) ON UPDATE CASCADE;
ALTER TABLE TORUNAMENTS ADD CONSTRAINT FK_TORUNAMENTS_CITIES FOREIGN KEY (CITY_REF) REFERENCES CITIES (ID);
ALTER TABLE USERS ADD CONSTRAINT FK_USERS_EMPLOYMENT_CONTRACTS FOREIGN KEY ("EMPLOYMENT CONTRACT") REFERENCES EMPLOYMENT_CONTRACTS (ID) ON DELETE SET NULL ON UPDATE CASCADE;
ALTER TABLE WINNERS ADD CONSTRAINT "FK_WINNERS_AGE GROUPS" FOREIGN KEY ("AGE GROUP_REF") REFERENCES "AGE GROUPS" (ID);
ALTER TABLE WINNERS ADD CONSTRAINT FK_WINNERS_DUELS FOREIGN KEY (DUEL_ID) REFERENCES DUELS (ID) ON UPDATE CASCADE;
ALTER TABLE WINNERS ADD CONSTRAINT FK_WINNERS_PLAYERS FOREIGN KEY (PLAYER_ID) REFERENCES PLAYERS (ID) ON UPDATE CASCADE;
ALTER TABLE WINNERS ADD CONSTRAINT FK_WINNERS_TEAMS FOREIGN KEY (TEAM_ID) REFERENCES TEAMS (ID) ON UPDATE CASCADE;


/******************************************************************************/
/***                                Triggers                                ***/
/******************************************************************************/



SET TERM ^ ;



/******************************************************************************/
/***                          Triggers for tables                           ***/
/******************************************************************************/



/* Trigger: "AGE GROUPS_BI" */
CREATE TRIGGER "AGE GROUPS_BI" FOR "AGE GROUPS"
ACTIVE BEFORE INSERT POSITION 0
AS
begin
   if (new.id is null) then
    new.id = gen_id("AGE GROUP_GEN",1);
end
^


/* Trigger: CATEGORIES_BI */
CREATE TRIGGER CATEGORIES_BI FOR CATEGORIES
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if(new.ID is null) then
    new.id = gen_id(CATEGORIES_GEN,1);
end
^


/* Trigger: CHECK_PLAYERS_BI */
CREATE TRIGGER CHECK_PLAYERS_BI FOR PLAYERS
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable count_of_players bigint;
begin
select
 count(0)
from
  PLAYERS P
where
  P.TEAM_REF = new.TEAM_REF
group by
  P.TEAM_REF
into
  count_of_players;

  if(count_of_players > 2) then
  begin
    exception CLEAN_TEXT 'Teams cannot contains more than two players...Please choose another Team!';
  end
end
^


/* Trigger: CITIES_BI */
CREATE TRIGGER CITIES_BI FOR CITIES
ACTIVE BEFORE INSERT POSITION 0
AS
begin
   if (new.id is null) then
    new.id = gen_id(CITIES_GEN,1);
end
^


/* Trigger: DUELS_BI */
CREATE TRIGGER DUELS_BI FOR DUELS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(duels_gen,1);
end
^


/* Trigger: EMPLOYMENT_CONTRACTS_BI */
CREATE TRIGGER EMPLOYMENT_CONTRACTS_BI FOR EMPLOYMENT_CONTRACTS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.id is null) then
  new.id = gen_id(EMPLOYMENT_CONTRACTS_GEN,1);
end
^


/* Trigger: GENDERS_BI */
CREATE TRIGGER GENDERS_BI FOR GENDERS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
   if (new.id is null) then
    new.id = gen_id(genders_gen,1);
end
^


/* Trigger: PLAYERS_BI */
CREATE TRIGGER PLAYERS_BI FOR PLAYERS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(players_gen,1);
end
^


/* Trigger: TEMS_BI */
CREATE TRIGGER TEMS_BI FOR TEAMS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(teams_gen,1);
end
^


/* Trigger: TORUNAMENTS_BI */
CREATE TRIGGER TORUNAMENTS_BI FOR TORUNAMENTS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(torunaments_gen,1);
end
^


/* Trigger: USERS_BI */
CREATE TRIGGER USERS_BI FOR USERS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  if (new.id is null) then
  new.id = gen_id(USERS_GEN,1);
end
^


/* Trigger: WINER_INSERT_BI */
CREATE TRIGGER WINER_INSERT_BI FOR DUELS
ACTIVE AFTER INSERT POSITION 0
AS
begin
  if(new.ID is distinct from null and new.IS_TEAM = 0) then
  begin
    if(new.SCORE_FIRST >  new.SCORE_SECOND) then
      execute procedure INSERT_WINNER(0, new.ID, new.PLAYER1_REF);
    else
      execute procedure INSERT_WINNER(0, new.ID, new.PLAYER2_REF);
  end
  else
  if(new.ID is distinct from null and new.IS_TEAM = 1) then
  begin
    if(new.SCORE_FIRST >  new.SCORE_SECOND) then
      execute procedure INSERT_WINNER(1, new.ID, new.TEAM1_REF);
    else
      execute procedure INSERT_WINNER(1, new.ID, new.TEAM2_REF);
  end
  else
    exception CLEAN_TEXT 'CANNOT_FIND DUEL OR PLAYER!';
end
^


/* Trigger: WINNERS_BI */
CREATE TRIGGER WINNERS_BI FOR WINNERS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(winners_gen,1);
end
^

SET TERM ; ^



/******************************************************************************/
/***                           Stored procedures                            ***/
/******************************************************************************/



SET TERM ^ ;

ALTER PROCEDURE INSERT_WINNER (
    IS_TEAM INTEGER,
    DUEL_ID BIGINT,
    PLAYER_ID BIGINT)
AS
begin
  if(IS_TEAM = 0) then
    insert into WINNERS(DUEL_ID, PLAYER_ID) values (:DUEL_ID,:PLAYER_ID);
  else
    insert into WINNERS(DUEL_ID, TEAM_ID) values (:DUEL_ID,:PLAYER_ID);
end^



SET TERM ; ^



/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

DESCRIBE DOMAIN DM_ADDRESS
'Domain for address info';

DESCRIBE DOMAIN DM_DATE
'DOMAIN FOR DATE';

DESCRIBE DOMAIN DM_MONEY
'DOMAIN FOR MONEY';

DESCRIBE DOMAIN DM_PASS
'DOMAIN FOR PASSWORDS.';

DESCRIBE DOMAIN DM_PIC
'DOMIAN FOR PICTURES';

DESCRIBE DOMAIN DM_PK
'DOMAIN FOR IDENTIFICATOR(PRIMARY KEY)';

DESCRIBE DOMAIN DM_REF
'DOMAIN FOR REFERENCE';

DESCRIBE DOMAIN DM_RESULT
'DOMAIN FOR SAVE TO RESULT ON DUELS';

DESCRIBE DOMAIN DM_SMALL
'DOMAIN FOR AGE';

DESCRIBE DOMAIN DM_STR10
'DOMAIN FOR GENDER NAME';

DESCRIBE DOMAIN DM_STR20
'DOMAIN FOR AGE GROUPS';

DESCRIBE DOMAIN DM_STR50
'DOMAIN FOR NAMES';

DESCRIBE DOMAIN DM_TEL
'DOMAIN FOR PHONE NUMBER';



/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

DESCRIBE TABLE "AGE GROUPS"
'Table for types of age groups.';

DESCRIBE TABLE CATEGORIES
'This is table for categories';

DESCRIBE TABLE CITIES
'Table for bulgarian cities';

DESCRIBE TABLE DUELS
'Table for duels between players.';

DESCRIBE TABLE EMPLOYMENT_CONTRACTS
'Table for information of employments.';

DESCRIBE TABLE GENDERS
'Table for types of gender.';

DESCRIBE TABLE PLAYERS
'Table for information of players.';

DESCRIBE TABLE TEAMS
'Table for name of teams.';

DESCRIBE TABLE TORUNAMENTS
'Table for information of tournaments.';

DESCRIBE TABLE USERS
'Table for information of logged users.';

DESCRIBE TABLE WINNERS
'Table for information for winners.';



/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

DESCRIBE VIEW BEST_GIRLS
'View for display girls with most points.';

DESCRIBE VIEW BEST_MENS
'View for display mens with most points.';

DESCRIBE VIEW BEST_WINNERS_GIRLS
'View for display girls with most wins.';

DESCRIBE VIEW BEST_WINNERS_MEN
'View for display mens with most wins.';

DESCRIBE VIEW BEST_WINNER_TEAMS
'View for display teams with most wins.';

DESCRIBE VIEW LAST_MATCH_PLAYERS
'View for display last 5 match with Players';

DESCRIBE VIEW LAST_MATCH_TEAMS
'View for display last 5 match with Teams';



/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

DESCRIBE PROCEDURE INSERT_WINNER
'Procedure for insert winner.';



/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

DESCRIBE TRIGGER "AGE GROUPS_BI"
'Trigger for age groups ID';

DESCRIBE TRIGGER CATEGORIES_BI
'Trigger for generate ID on table CATEGORIES.';

DESCRIBE TRIGGER CHECK_PLAYERS_BI
'Trigger for defence of create theam with more 2 players.';

DESCRIBE TRIGGER CITIES_BI
'Trigger for cities ID';

DESCRIBE TRIGGER DUELS_BI
'Trigger for duels ID';

DESCRIBE TRIGGER EMPLOYMENT_CONTRACTS_BI
'Trigger for generate ID on table EMPLOYMENT_CONTRACTS.';

DESCRIBE TRIGGER GENDERS_BI
'Trigger for gender ID';

DESCRIBE TRIGGER PLAYERS_BI
'Trigger for players ID';

DESCRIBE TRIGGER TEMS_BI
'Trigger for generate ID on table TEAMS.';

DESCRIBE TRIGGER TORUNAMENTS_BI
'Trigger for generate ID on table TOURNAMENTS.';

DESCRIBE TRIGGER USERS_BI
'Trigger for generate ID on table USERS.';

DESCRIBE TRIGGER WINER_INSERT_BI
'Trigger for insert winner in duels.';

DESCRIBE TRIGGER WINNERS_BI
'Trigger for generate ID on table WINNERS.';



/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

DESCRIBE EXCEPTION CLEAN_TEXT
'EXCEPTION FOR ERRROS!';



/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

DESCRIBE GENERATOR "AGE GROUP_GEN"
'Generator for ID on table AGE_GROUPS.';

DESCRIBE GENERATOR CATEGORIES_GEN
'Generator for Id on table CATEGORIES';

DESCRIBE GENERATOR CITIES_GEN
'Generator for ID on table CITIES.';

DESCRIBE GENERATOR DUELS_GEN
'Generator for ID on table DUELS';

DESCRIBE GENERATOR EMPLOYMENT_CONTRACTS_GEN
'Generator for ID on table EMOLOYMENT_CONTRACTS';

DESCRIBE GENERATOR GENDERS_GEN
'Generator for ID on table GENDERS';

DESCRIBE GENERATOR PLAYERS_GEN
'Generator for ID on table PLAYERS.';

DESCRIBE GENERATOR TEAMS_GEN
'Generator for ID on table TEAMS';

DESCRIBE GENERATOR TORUNAMENTS_GEN
'Generator for ID on table TOURNAMENTS.';

DESCRIBE GENERATOR USERS_GEN
'Generator for ID on table USERS.';

DESCRIBE GENERATOR WINNERS_GEN
'Generator for ID on table WINNERS';



/******************************************************************************/
/***                          Fields descriptions                           ***/
/******************************************************************************/

DESCRIBE FIELD ID TABLE "AGE GROUPS"
'This is identificator';

DESCRIBE FIELD "AGE GROUP" TABLE "AGE GROUPS"
'This is Ð°ge groups';

DESCRIBE FIELD ID TABLE CATEGORIES
'Field FOR IDENTIFICATOR(PRIMARY KEY)';

DESCRIBE FIELD NAME TABLE CATEGORIES
'Field FOR NAMES of categories.';

DESCRIBE FIELD ID TABLE CITIES
'This is identificator';

DESCRIBE FIELD CITY TABLE CITIES
'This is cities in bulgaria';

DESCRIBE FIELD ID TABLE DUELS
'This is identificator';

DESCRIBE FIELD TORUNAMENT_REF TABLE DUELS
'This is reference for tournament';

DESCRIBE FIELD "AGE GROUP_REF" TABLE DUELS
'This is reference for age groups';

DESCRIBE FIELD CATEGORY_REF TABLE DUELS
'This is for category of match (Women or Men).';

DESCRIBE FIELD "DATE" TABLE DUELS
'This is date on conducting an event';

DESCRIBE FIELD PLAYER1_REF TABLE DUELS
'This is reference for first player';

DESCRIBE FIELD PLAYER2_REF TABLE DUELS
'This is reference for second player';

DESCRIBE FIELD TEAM1_REF TABLE DUELS
'This is Field for first Team';

DESCRIBE FIELD TEAM2_REF TABLE DUELS
'This is field for second TEAM';

DESCRIBE FIELD RESULT TABLE DUELS
'This is match result';

DESCRIBE FIELD IS_TEAM TABLE DUELS
'This is check for duels (Two players or four players)';

DESCRIBE FIELD SCORE_FIRST TABLE DUELS
'Field for Score of first player or team.';

DESCRIBE FIELD SCORE_SECOND TABLE DUELS
'Field for Score of second player or team.';

DESCRIBE FIELD ID TABLE EMPLOYMENT_CONTRACTS
'Field for primary key (ID).';

DESCRIBE FIELD FIRST_NAME TABLE EMPLOYMENT_CONTRACTS
'Field for first name of eployment.';

DESCRIBE FIELD LAST_NAME TABLE EMPLOYMENT_CONTRACTS
'Field for last name of employment.';

DESCRIBE FIELD CITY_REF TABLE EMPLOYMENT_CONTRACTS
'Field for City Employee.';

DESCRIBE FIELD ADDRESS TABLE EMPLOYMENT_CONTRACTS
'Field for address of eployment.';

DESCRIBE FIELD PHONE_NUMBER TABLE EMPLOYMENT_CONTRACTS
'Field for phone number of employee.';

DESCRIBE FIELD ID TABLE GENDERS
'This is identificator';

DESCRIBE FIELD GENDER TABLE GENDERS
'This is types of sex';

DESCRIBE FIELD ID TABLE PLAYERS
'This is identificator';

DESCRIBE FIELD FIRSTNAME TABLE PLAYERS
'This is player first name';

DESCRIBE FIELD LASTNAME TABLE PLAYERS
'Field for last name of players.';

DESCRIBE FIELD CITY_REF TABLE PLAYERS
'This is reference frow where is player';

DESCRIBE FIELD GENDER_REF TABLE PLAYERS
'This is reference for gender of player';

DESCRIBE FIELD PHONE TABLE PLAYERS
'This is for contact with player';

DESCRIBE FIELD TEAM_REF TABLE PLAYERS
'This is reference for team of player';

DESCRIBE FIELD "AGE GROUP_REF" TABLE PLAYERS
'This is reference for age group on player';

DESCRIBE FIELD PICTURE TABLE PLAYERS
'Field for picture of player';

DESCRIBE FIELD CATEGORY_REF TABLE PLAYERS
'This is field for category of players';

DESCRIBE FIELD BIRTHDAY_DATE TABLE PLAYERS
'Field for Birthday date of player.';

DESCRIBE FIELD AGE TABLE PLAYERS
'Field for age of players.';

DESCRIBE FIELD DATE_OF_CREATED TABLE PLAYERS
'Field for date of created player.';

DESCRIBE FIELD ADDRESS TABLE PLAYERS
'Field for Address of player.';

DESCRIBE FIELD ID TABLE TEAMS
'This is identificator';

DESCRIBE FIELD TEAM TABLE TEAMS
'This is all team';

DESCRIBE FIELD PICTURE TABLE TEAMS
'Field for picture of team';

DESCRIBE FIELD DATE_OF_CREATED TABLE TEAMS
'Field for date of Creation Team';

DESCRIBE FIELD ADDRESS TABLE TEAMS
'Field for address of team.';

DESCRIBE FIELD ESTABLISHMENT TABLE TEAMS
'Field for date of establishment team.';

DESCRIBE FIELD FOUNDER TABLE TEAMS
'Field for name of founder.';

DESCRIBE FIELD CITY_REF TABLE TEAMS
'This is field for City of origin.';

DESCRIBE FIELD MOBILE_PHONE TABLE TEAMS
'This is field for mobile phone for contact with team.';

DESCRIBE FIELD ID TABLE TORUNAMENTS
'This is identificator';

DESCRIBE FIELD NAME TABLE TORUNAMENTS
'This is name of tournament';

DESCRIBE FIELD CITY_REF TABLE TORUNAMENTS
'This is reference for city where it is held tournament';

DESCRIBE FIELD PRIZE TABLE TORUNAMENTS
'Ð¢his is the prize that wins the winner';

DESCRIBE FIELD "DATE" TABLE TORUNAMENTS
'This is the date on which it is held';

DESCRIBE FIELD DURATION TABLE TORUNAMENTS
'This is duration on tournament in days';

DESCRIBE FIELD PARTICIPANTS TABLE TORUNAMENTS
'This is maximal number of player who can participant';

DESCRIBE FIELD ID TABLE USERS
'Field for primary key (ID).';

DESCRIBE FIELD "EMPLOYMENT CONTRACT" TABLE USERS
'Field for number of employment contract.';

DESCRIBE FIELD USERNAME TABLE USERS
'Field for username of user.';

DESCRIBE FIELD "PASSWORD" TABLE USERS
'Field for password of user.';

DESCRIBE FIELD ID TABLE WINNERS
'This is identificator';

DESCRIBE FIELD DUEL_ID TABLE WINNERS
'Field for ID of Duel';

DESCRIBE FIELD PLAYER_ID TABLE WINNERS
'This is information for player who is winner';

DESCRIBE FIELD TEAM_ID TABLE WINNERS
'Field for ID of team winner.';

DESCRIBE FIELD "AGE GROUP_REF" TABLE WINNERS
'This is reference for types of age groups';

